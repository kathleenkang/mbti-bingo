{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"react\")) : \"function\" == typeof define && define.amd ? define([\"React\"], t) : \"object\" == typeof exports ? exports[\"react-grid-draw-ui\"] = t(require(\"react\")) : e[\"react-grid-draw-ui\"] = t(e.React);\n}(window, function (e) {\n  return function (e) {\n    var t = {};\n\n    function i(r) {\n      if (t[r]) return t[r].exports;\n      var n = t[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(n.exports, n, n.exports, i), n.l = !0, n.exports;\n    }\n\n    return i.m = e, i.c = t, i.d = function (e, t, r) {\n      i.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: r\n      });\n    }, i.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, i.t = function (e, t) {\n      if (1 & t && (e = i(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var r = Object.create(null);\n      if (i.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var n in e) i.d(r, n, function (t) {\n        return e[t];\n      }.bind(null, n));\n      return r;\n    }, i.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return i.d(t, \"a\", t), t;\n    }, i.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, i.p = \"/\", i(i.s = 3);\n  }([function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.RectangleManagerUtil = void 0;\n\n    class r {\n      static addRectangleEndLines(e) {\n        e.horizontalPointsSelected.push({\n          startX: e.startX,\n          startY: e.startY + e.height,\n          endX: e.startX + e.width,\n          colour: e.colour\n        }), e.verticalPointsSelected.push({\n          startX: e.startX + e.width,\n          startY: e.startY,\n          endY: e.startY + e.height,\n          colour: e.colour\n        });\n      }\n\n      static sortRectangleLines(e) {\n        e.horizontalPointsSelected.sort(function (e, t) {\n          return e.startY - t.startY;\n        }), e.verticalPointsSelected.sort(function (e, t) {\n          return e.startX - t.startX;\n        });\n      }\n\n    }\n\n    t.RectangleManagerUtil = r, r.getShiftRateFromMousePosition = (e, t) => Math.round(e / t) * t;\n  }, function (t, i) {\n    t.exports = e;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.setCreationManagersForHook = t.useGridData = void 0;\n    const r = i(1);\n    let n = null;\n    t.useGridData = () => {\n      const [e, t] = r.useState(() => () => []),\n            [i, a] = r.useState(),\n            [o, s] = r.useState();\n      return r.useEffect(() => {\n        if (null == n) throw \"Something went wrong with the useGridData hook - If this issue persists, please contact library support.\";\n        t(() => () => null != n ? n.getItemsWithinRegion() : []), s(() => e => null != n ? n.drawRectanglesFromPayload(e) : () => {}), a(() => () => null != n ? n.clearDownGrids() : () => {});\n      }, []), null == o || null == i ? [e] : [e, i, o];\n    }, t.setCreationManagersForHook = e => {\n      n = e;\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r = this && this.__createBinding || (Object.create ? function (e, t, i, r) {\n      void 0 === r && (r = i), Object.defineProperty(e, r, {\n        enumerable: !0,\n        get: function () {\n          return t[i];\n        }\n      });\n    } : function (e, t, i, r) {\n      void 0 === r && (r = i), e[r] = t[i];\n    }),\n        n = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n      Object.defineProperty(e, \"default\", {\n        enumerable: !0,\n        value: t\n      });\n    } : function (e, t) {\n      e.default = t;\n    }),\n        a = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var i in e) \"default\" !== i && Object.prototype.hasOwnProperty.call(e, i) && r(t, e, i);\n      return n(t, e), t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.useGridData = t.ReactGridDrawUI = void 0;\n    const o = a(i(1)),\n          s = i(2);\n    Object.defineProperty(t, \"useGridData\", {\n      enumerable: !0,\n      get: function () {\n        return s.useGridData;\n      }\n    });\n\n    const l = i(4),\n          c = {\n      display: \"flex\"\n    },\n          d = {\n      zIndex: 1e4,\n      width: \"inherit\",\n      position: \"absolute\"\n    },\n          h = e => {\n      const t = o.useRef(new l.CanvasManager({\n        lineClickTolerance: e.lineClickTolerance,\n        selectCircleSize: e.selectCircleSize,\n        circleLineShiftSize: e.circleLineShiftSize,\n        contextLineWidth: e.contextLineWidth,\n        lineColour: e.lineColour\n      }));\n      return o.useEffect(() => {\n        let e = document.getElementById(\"canvas-wrap\");\n        t.current.createCanvas(e.clientWidth, e.clientHeight);\n      }, []), o.default.createElement(o.Fragment, null, o.default.createElement(\"div\", {\n        id: \"canvas-wrap\",\n        style: c\n      }, e.children, o.default.createElement(\"canvas\", {\n        id: \"canvas\",\n        style: d\n      })));\n    };\n\n    t.ReactGridDrawUI = h, h.defaultProps = {\n      lineClickTolerance: 15,\n      selectCircleSize: 3,\n      circleLineShiftSize: 10,\n      contextLineWidth: 1,\n      lineColour: \"#1290ff\"\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.CanvasManager = void 0;\n    const r = i(5),\n          n = i(6),\n          a = i(2),\n          o = i(7);\n    t.CanvasManager = class {\n      constructor(e) {\n        this.drag = !1, this.activeDragLine = {\n          line: {\n            horizontalLine: null,\n            verticalLine: null\n          },\n          gridStartY: 0,\n          gridEndY: 0,\n          gridStartX: 0,\n          gridEndX: 0\n        }, this.createCanvas = (e, t) => {\n          this.canvas = document.getElementById(\"canvas\"), this.ctx = this.canvas.getContext(\"2d\"), this.setCanvasSize(e, t), this.rectangleCreationManager = new r.RectangleCreationManager(this.canvas, this.ctx, this.lineProperties), this.rectangleBoundaryValidator = new n.RectangleBoundaryValidator(this.canvas, this.lineProperties, this.rectangleCreationManager), this.setUpMouseEvents(), this.setUpKeyboardEvents(), a.setCreationManagersForHook(new o.PublicFunctionManager(this.canvas, this.rectangleCreationManager));\n        }, this.setCanvasSize = (e, t) => {\n          this.canvas.width = e, this.canvas.height = t;\n        }, this.mouseDown = e => {\n          let t = e.offsetX,\n              i = e.offsetY;\n\n          if (!this.rectangleBoundaryValidator.isMouseOnRemoveButtonForAnyGrid(t, i)) {\n            let r = this.rectangleBoundaryValidator.getRectForMouseOnBorder(t, i);\n            if (null != r) this.rectangleCreationManager.drawLineAtClickedGridBoundaryPosition(e, r);else {\n              let e = this.rectangleBoundaryValidator.getGridWhenMouseClickInsideGridRegion(t, i);\n              if (void 0 === e) this.rectangleCreationManager.resetBoxProperties(this.currentRect, t, i), this.drag = !0;else {\n                let r = e,\n                    n = this.rectangleBoundaryValidator.findHorizontalLineIndexInGridFromMousePosition(r, t, i),\n                    a = this.rectangleBoundaryValidator.findVerticalLineIndexInGridFromMousePosition(r, t, i),\n                    o = -1 !== n,\n                    s = -1 !== a;\n                (o || s) && (this.rectangleBoundaryValidator.isLineDeletionModeActive() ? o ? r.horizontalPointsSelected.splice(n, 1) : s && r.verticalPointsSelected.splice(a, 1) : o ? this.activeDragLine.line.horizontalLine = r.horizontalPointsSelected[n] : s && (this.activeDragLine.line.verticalLine = r.verticalPointsSelected[a]), this.activeDragLine.gridStartX = r.startX, this.activeDragLine.gridStartY = r.startY, this.activeDragLine.gridEndX = r.endX, this.activeDragLine.gridEndY = r.endY);\n              }\n            }\n          }\n        }, this.mouseUp = e => {\n          this.rectangleBoundaryValidator.deleteGridWhenRemoveButtonClicked(e.offsetX, e.offsetY) ? this.rectangleCreationManager.clearRegionFromCanvasContext(0, 0, this.canvas.width, this.canvas.height) : (this.drag && (this.currentRect.endX = e.offsetX, this.currentRect.endY = e.offsetY, this.rectangleCreationManager.addRectangle(this.currentRect)), this.drag = !1, this.currentRect = {\n            startX: 0,\n            startY: 0,\n            endX: 0,\n            endY: 0,\n            width: 0,\n            height: 0,\n            colour: this.lineProperties.lineColour,\n            verticalPointsSelected: [],\n            horizontalPointsSelected: [],\n            undoLineList: []\n          }), this.rectangleCreationManager.clearRegionFromCanvasContext(0, 0, this.canvas.width, this.canvas.height), this.resetActiveGridLineForDragging(), this.drawInteractableGrids(e);\n        }, this.mouseMove = e => {\n          if (this.rectangleCreationManager.clearRegionFromCanvasContext(0, 0, this.canvas.width, this.canvas.height), this.drag) this.rectangleCreationManager.drawRectangleFromMouse(this.currentRect, e.offsetX + this.canvas.offsetLeft, e.offsetY + this.canvas.offsetTop);else if (null != this.activeDragLine.line.horizontalLine) {\n            this.activeDragLine.gridStartY < e.offsetY && this.activeDragLine.gridEndY > e.offsetY && (this.activeDragLine.line.horizontalLine.startY = e.offsetY);\n          } else if (null != this.activeDragLine.line.verticalLine) {\n            this.activeDragLine.gridStartX < e.offsetX && this.activeDragLine.gridEndX > e.offsetX && (this.activeDragLine.line.verticalLine.startX = e.offsetX);\n          } else this.rectangleBoundaryValidator.showMouseCursorAsPointer(e, \"auto\");\n          this.drawInteractableGrids(e);\n        }, this.currentRect = {\n          startX: 0,\n          startY: 0,\n          endX: 0,\n          endY: 0,\n          width: 0,\n          height: 0,\n          colour: e.lineColour,\n          horizontalPointsSelected: [],\n          verticalPointsSelected: [],\n          undoLineList: []\n        }, this.rectangleCreationManager = new r.RectangleCreationManager(this.canvas, this.ctx, e), this.rectangleBoundaryValidator = new n.RectangleBoundaryValidator(this.canvas, e, this.rectangleCreationManager), this.lineProperties = e;\n      }\n\n      setUpMouseEvents() {\n        this.canvas.addEventListener(\"mousedown\", this.mouseDown, !1), this.canvas.addEventListener(\"mouseup\", this.mouseUp, !1), this.canvas.addEventListener(\"mousemove\", this.mouseMove, !1);\n      }\n\n      setUpKeyboardEvents() {\n        document.addEventListener(\"keydown\", e => {\n          \"Control\" == e.key && this.rectangleBoundaryValidator.setLineDeletionMode(!0);\n        }), document.addEventListener(\"keyup\", e => {\n          \"Control\" == e.key && this.rectangleBoundaryValidator.setLineDeletionMode(!1);\n        });\n      }\n\n      resetActiveGridLineForDragging() {\n        this.activeDragLine.line = {\n          verticalLine: null,\n          horizontalLine: null\n        }, this.activeDragLine.gridStartX = 0, this.activeDragLine.gridStartY = 0, this.activeDragLine.gridEndX = 0, this.activeDragLine.gridEndY = 0;\n      }\n\n      drawInteractableGrids(e) {\n        let t = e.offsetX,\n            i = e.offsetY;\n        this.rectangleCreationManager.getRectangles().forEach(r => {\n          let n = r.startX + r.width + this.canvas.offsetLeft,\n              a = r.startY + r.height + this.canvas.offsetTop;\n          this.rectangleBoundaryValidator.checkForMouseHoverOnGrid(r, t, i, e), this.render(r, n, a);\n        });\n      }\n\n      render(e, t, i) {\n        this.rectangleCreationManager.drawRectangleFromMouse(e, t, i), this.rectangleCreationManager.drawRectGridLines(e), this.rectangleCreationManager.drawRemoveTableButton(e);\n      }\n\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.RectangleCreationManager = void 0;\n    const r = i(0);\n    t.RectangleCreationManager = class {\n      constructor(e, t, i) {\n        this.X_CHARACTER = \"❎\", this.drawSelectableCircleOnBoxBoundary = (e, t, i) => {\n          this.ctx.fillStyle = i, this.ctx.beginPath(), this.ctx.arc(e, t, this.selectCircleSize, 0, 2 * Math.PI), this.ctx.closePath(), this.ctx.fill();\n        }, this.drawLineFromBoxBoundaryX = e => {\n          this.ctx.strokeStyle = e.colour, this.ctx.beginPath(), this.ctx.lineWidth = this.contextLineWidth, this.ctx.moveTo(e.startX, e.startY), this.ctx.lineTo(e.endX, e.startY), this.ctx.closePath(), this.ctx.stroke();\n        }, this.drawLineFromBoxBoundaryY = e => {\n          this.ctx.strokeStyle = e.colour, this.ctx.lineWidth = this.contextLineWidth, this.ctx.beginPath(), this.ctx.moveTo(e.startX, e.startY), this.ctx.lineTo(e.startX, e.endY), this.ctx.closePath(), this.ctx.stroke();\n        }, this.resetBoxProperties = (e, t, i) => {\n          this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height), e.startX = t, e.startY = i;\n        }, this.canvas = e, this.ctx = t, this.lineClickTolerance = i.lineClickTolerance, this.selectCircleSize = i.selectCircleSize, this.contextLineWidth = i.contextLineWidth, this.circleLineShiftSize = i.circleLineShiftSize, this.rectangles = [];\n      }\n\n      drawRectangleFromMouse(e, t, i) {\n        e.width = t - this.canvas.offsetLeft - e.startX, e.height = i - this.canvas.offsetTop - e.startY, this.drawRectangleWithColour(e);\n      }\n\n      drawRectangleWithColour(e) {\n        this.ctx.strokeStyle = e.colour, this.ctx.lineWidth = this.contextLineWidth, this.ctx.strokeRect(e.startX, e.startY, e.width, e.height);\n      }\n\n      clearRegionFromCanvasContext(e, t, i, r) {\n        this.ctx.clearRect(e, t, i, r);\n      }\n\n      drawRemoveTableButton(e) {\n        this.ctx.font = \"1em Roboto\", e.startX <= e.endX && e.startY <= e.endY ? this.ctx.fillText(this.X_CHARACTER, e.startX + e.width - 20, e.startY - 10) : e.startX <= e.endX && e.startY > e.endY ? this.ctx.fillText(this.X_CHARACTER, e.startX + e.width - 20, e.endY - 10) : e.startX > e.endX && e.startY <= e.endY ? this.ctx.fillText(this.X_CHARACTER, e.startX - 20, e.startY - 10) : e.startX > e.endX && e.startY > e.endY && this.ctx.fillText(this.X_CHARACTER, e.startX - 20, e.endY - 10);\n      }\n\n      drawLineAtClickedGridBoundaryPosition(e, t) {\n        let i = t.height + t.startY,\n            r = t.width + t.startX,\n            n = e.offsetX,\n            a = e.offsetY,\n            o = Math.abs(n - t.startX) < this.lineClickTolerance,\n            s = Math.abs(n - r) < this.lineClickTolerance,\n            l = Math.abs(a - t.startY) < this.lineClickTolerance,\n            c = Math.abs(a - i) < this.lineClickTolerance;\n        o || s ? this.addHorizontalLineAtMousePosition(t.startX, a, r, t) : (l || c) && this.addVerticalLineAtMousePosition(n, t.startY, i, t);\n      }\n\n      getRectangles() {\n        return this.rectangles;\n      }\n\n      addRectangle(e) {\n        this.rectangles.push(e);\n      }\n\n      removeRectangle(e) {\n        this.rectangles.splice(e, 1);\n      }\n\n      clearDownGrids() {\n        this.rectangles = [];\n      }\n\n      drawRectGridLines(e) {\n        e.horizontalPointsSelected.forEach(e => {\n          this.drawLineFromBoxBoundaryX(e);\n        }), e.verticalPointsSelected.forEach(e => {\n          this.drawLineFromBoxBoundaryY(e);\n        });\n      }\n\n      addVerticalLineAtMousePosition(e, t, i, n) {\n        let a = {\n          startX: r.RectangleManagerUtil.getShiftRateFromMousePosition(e, this.circleLineShiftSize),\n          startY: t,\n          endY: i,\n          colour: n.colour\n        };\n        n.verticalPointsSelected.push(a), this.drawLineFromBoxBoundaryY(a), n.undoLineList.push(!1);\n      }\n\n      addHorizontalLineAtMousePosition(e, t, i, n) {\n        let a = {\n          startX: e,\n          startY: r.RectangleManagerUtil.getShiftRateFromMousePosition(t, this.circleLineShiftSize),\n          endX: i,\n          colour: n.colour\n        };\n        n.horizontalPointsSelected.push(a), n.undoLineList.push(!0), this.drawLineFromBoxBoundaryX(a);\n      }\n\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.RectangleBoundaryValidator = void 0;\n    const r = i(0);\n    t.RectangleBoundaryValidator = class {\n      constructor(e, t, i) {\n        this.NO_INDEX_FOUND = -1, this.lineDeletionModeActive = !1, this.getGridWhenMouseClickInsideGridRegion = (e, t) => this.rectangleCreationManager.getRectangles().find(i => Math.abs(e) >= i.startX && Math.abs(e) <= i.width + i.startX && Math.abs(t) >= i.startY && Math.abs(t) <= i.height + i.startY), this.findHorizontalLineIndexInGridFromMousePosition = (e, t, i) => e.horizontalPointsSelected.findIndex(e => {\n          let r = t > e.startX && t < e.endX,\n              n = Math.abs(i - e.startY) < 5;\n          return r && n;\n        }), this.findVerticalLineIndexInGridFromMousePosition = (e, t, i) => e.verticalPointsSelected.findIndex(e => {\n          let r = i > e.startY && i < e.endY,\n              n = Math.abs(t - e.startX) < 5;\n          return r && n;\n        }), this.isMouseOnRemoveGridButton = (e, t, i) => {\n          let r = e.startY - 30,\n              n = e.startY - 5,\n              a = e.endX - 20,\n              o = a + 20;\n          return e.startX <= e.endX && e.startY <= e.endY ? t >= a && t <= o && i >= r && i <= n : e.startX <= e.endX && e.startY > e.endY ? t >= a && t <= o && i >= e.endY - 30 && i <= e.endY - 5 : e.startX > e.endX && e.startY <= e.endY ? t >= e.startX - 20 && t <= e.startX + 20 && i >= r && i <= n : e.startX > e.endX && e.startY > e.endY ? t >= e.startX - 20 && t <= e.startX + 20 && i >= e.endY - 30 && i <= e.endY - 5 : void 0;\n        }, this.showCircleAndLineForMouseHoverOnBoundary = (e, t, i) => {\n          let r = e.startY,\n              n = e.startX,\n              a = e.height + r,\n              o = e.width + n,\n              s = Math.abs(t - n) < this.lineClickTolerance,\n              l = Math.abs(t - o) < this.lineClickTolerance,\n              c = Math.abs(i - r) < this.lineClickTolerance,\n              d = Math.abs(i - a) < this.lineClickTolerance;\n          s && i > e.startY && i <= e.startY + e.height ? this.previewCircleAndLineForLeftBorderOnHover(i, n, o, e.colour) : l && i > e.startY && i <= e.startY + e.height ? this.previewCircleAndLineForRightBorderOnHover(i, n, o, e.colour) : c && t > e.startX && t <= e.startX + e.width ? this.previewCircleAndLineForTopBorderOnHover(t, r, a, e.colour) : d && t > e.startX && t <= e.startX + e.width && this.previewCircleAndLineForBottomBorderOnHover(t, a, r, e.colour);\n        }, this.canvas = e, this.lineClickTolerance = t.lineClickTolerance, this.selectCircleSize = t.selectCircleSize, this.circleLineShiftSize = t.circleLineShiftSize, this.contextLineWidth = t.contextLineWidth, this.rectangleCreationManager = i;\n      }\n\n      deleteGridWhenRemoveButtonClicked(e, t) {\n        let i = !1;\n        return this.rectangleCreationManager.getRectangles().forEach((r, n) => {\n          this.isMouseOnRemoveGridButton(r, e, t) && (this.rectangleCreationManager.removeRectangle(n), i = !0);\n        }), i;\n      }\n\n      isMouseOnRemoveButtonForAnyGrid(e, t) {\n        let i = !1;\n        return this.rectangleCreationManager.getRectangles().forEach(r => {\n          this.isMouseOnRemoveGridButton(r, e, t) && (i = !0);\n        }), i;\n      }\n\n      getRectForMouseOnBorder(e, t) {\n        return this.rectangleCreationManager.getRectangles().find(i => this.checkForMouseOnBorderOfGrid(i, e, t));\n      }\n\n      checkForMouseHoverOnGrid(e, t, i, r) {\n        if (this.checkForMouseOnBorderOfGrid(e, t, i)) this.showMouseCursorAsPointer(r, \"pointer\"), this.showCircleAndLineForMouseHoverOnBoundary(e, t, i);else if (this.isMouseOnRemoveGridButton(e, t, i)) this.showMouseCursorAsPointer(r, \"pointer\");else {\n          let n = this.findHorizontalLineIndexInGridFromMousePosition(e, t, i),\n              a = this.findVerticalLineIndexInGridFromMousePosition(e, t, i);\n          n != this.NO_INDEX_FOUND || a != this.NO_INDEX_FOUND ? this.handleDeletionModeHoverAction(e, n, a, r) : this.repaintLinesGridColouration(e);\n        }\n      }\n\n      repaintLinesGridColouration(e) {\n        e.horizontalPointsSelected.forEach(t => t.colour = e.colour), e.verticalPointsSelected.forEach(t => t.colour = e.colour);\n      }\n\n      handleDeletionModeHoverAction(e, t, i, r) {\n        if (this.lineDeletionModeActive) {\n          if (t != this.NO_INDEX_FOUND) {\n            e.horizontalPointsSelected[t].colour = \"#FF0000\";\n          } else if (i != this.NO_INDEX_FOUND) {\n            e.verticalPointsSelected[i].colour = \"#FF0000\";\n          }\n\n          this.showMouseCursorAsPointer(r, \"pointer\");\n        } else this.showMouseCursorAsPointer(r, \"grab\");\n      }\n\n      showMouseCursorAsPointer(e, t) {\n        e.target.style.cursor = t;\n      }\n\n      setLineDeletionMode(e) {\n        this.lineDeletionModeActive = e;\n      }\n\n      isLineDeletionModeActive() {\n        return this.lineDeletionModeActive;\n      }\n\n      previewCircleAndLineForBottomBorderOnHover(e, t, i, n) {\n        let a = r.RectangleManagerUtil.getShiftRateFromMousePosition(e, this.circleLineShiftSize),\n            o = {\n          startX: a,\n          startY: t,\n          endY: i,\n          colour: n\n        };\n        this.rectangleCreationManager.drawSelectableCircleOnBoxBoundary(a, t, n), this.rectangleCreationManager.drawLineFromBoxBoundaryY(o);\n      }\n\n      previewCircleAndLineForTopBorderOnHover(e, t, i, n) {\n        let a = r.RectangleManagerUtil.getShiftRateFromMousePosition(e, this.circleLineShiftSize),\n            o = {\n          startX: a,\n          startY: t,\n          endY: i,\n          colour: n\n        };\n        this.rectangleCreationManager.drawSelectableCircleOnBoxBoundary(a, t, n), this.rectangleCreationManager.drawLineFromBoxBoundaryY(o);\n      }\n\n      previewCircleAndLineForRightBorderOnHover(e, t, i, n) {\n        let a = r.RectangleManagerUtil.getShiftRateFromMousePosition(e, this.circleLineShiftSize),\n            o = {\n          startX: t,\n          startY: a,\n          endX: i,\n          colour: n\n        };\n        this.rectangleCreationManager.drawSelectableCircleOnBoxBoundary(i, a, n), this.rectangleCreationManager.drawLineFromBoxBoundaryX(o);\n      }\n\n      previewCircleAndLineForLeftBorderOnHover(e, t, i, n) {\n        let a = r.RectangleManagerUtil.getShiftRateFromMousePosition(e, this.circleLineShiftSize),\n            o = {\n          startX: t,\n          startY: a,\n          endX: i,\n          colour: n\n        };\n        this.rectangleCreationManager.drawSelectableCircleOnBoxBoundary(t, a, n), this.rectangleCreationManager.drawLineFromBoxBoundaryX(o);\n      }\n\n      checkForMouseOnBorderOfGrid(e, t, i) {\n        let r = e.startY,\n            n = e.startX,\n            a = e.height + r,\n            o = e.width + n,\n            s = Math.abs(t - n) <= this.lineClickTolerance || Math.abs(t - o) <= this.lineClickTolerance,\n            l = Math.abs(i - r) <= this.lineClickTolerance || Math.abs(i - a) <= this.lineClickTolerance;\n        return s && i >= r && i <= a || l && t >= n && t <= o;\n      }\n\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.PublicFunctionManager = void 0;\n    const r = i(0);\n    t.PublicFunctionManager = class {\n      constructor(e, t) {\n        this.CANVAS_WRAP_ID = \"canvas-wrap\", this.getItemsWithinRegion = () => {\n          let e = document.getElementById(this.CANVAS_WRAP_ID);\n          if (null == e) throw \"Could not find DOM element with ID: \" + this.CANVAS_WRAP_ID;\n          let t = [];\n          return this.rectangleCreationManager.getRectangles().forEach(i => {\n            r.RectangleManagerUtil.sortRectangleLines(i), r.RectangleManagerUtil.addRectangleEndLines(i);\n            let n = this.buildTableShape(i.horizontalPointsSelected.length, i.verticalPointsSelected.length);\n            this.buildTableRowsFromDrawnGrid(e, i, n), i.horizontalPointsSelected.pop(), i.verticalPointsSelected.pop(), t.push(n);\n          }), t;\n        }, this.drawRectanglesFromPayload = e => {\n          e.forEach(e => {\n            this.rectangleCreationManager.drawRectangleWithColour(e), this.rectangleCreationManager.addRectangle(e), this.rectangleCreationManager.drawRectGridLines(e), this.rectangleCreationManager.drawRemoveTableButton(e);\n          });\n        }, this.clearDownGrids = () => {\n          this.rectangleCreationManager.clearDownGrids(), this.rectangleCreationManager.resetBoxProperties({}, 0, 0);\n        }, this.buildTableShape = (e, t) => {\n          let i = [];\n\n          for (let r = 0; r < e; r++) for (let n = 0; n < t; n++) null != i[r] ? i[r].push(\"\") : i[r] = 0 !== e || 0 !== t ? [\"\"] : [];\n\n          return i;\n        }, this.findGridPosition = (e, t, i, r) => {\n          let n = 0,\n              a = 0;\n          if (0 === i.length) for (let t = 0; t < r.length; t++) {\n            e < r[t].startX ? (a = 0, n = t) : n++;\n          } else if (0 === r.length) for (let e = 0; e < i.length; e++) {\n            t < i[e].startY ? (a = e, n = 0) : a++;\n          } else for (let n = 0; n < i.length; n++) {\n            let a = i[n].startY;\n\n            for (let i = 0; i < r.length; i++) {\n              if (e < r[i].startX && t < a) return [n, i];\n            }\n          }\n          return [a, n];\n        }, this.isItemInsideBox = (e, t, i, r) => {\n          let n = t.offsetHeight / 2;\n          return i >= e.startX && i <= e.width + e.startX && r + n >= e.startY && r + n <= e.height + e.startY;\n        }, this.canvas = e, this.rectangleCreationManager = t, this.canvasRect = this.canvas.getBoundingClientRect();\n      }\n\n      buildTableRowsFromDrawnGrid(e, t, i) {\n        let r = e.childNodes;\n        if (r.length > 1) r.forEach(e => this.buildTableRowsFromDrawnGrid(e, t, i));else if (1 == r.length) {\n          let e = r[0],\n              n = e.getBoundingClientRect(),\n              a = n.left - this.canvasRect.left + window.scrollX,\n              o = n.top - this.canvasRect.top + window.scrollY;\n          this.isItemInsideBox(t, e, a, o) && this.addGridItemToTable(a, o, t, i, e);\n        }\n      }\n\n      addGridItemToTable(e, t, i, r, n) {\n        let a = this.findGridPosition(e, t, i.horizontalPointsSelected, i.verticalPointsSelected),\n            o = a[0],\n            s = a[1];\n\n        if (null != r[o]) {\n          let e = r[o][s],\n              t = \"\" != e && null != e;\n          r[o][s] = t ? r[o][s] + \" \" + n.innerText : n.innerText;\n        } else r[o] = [];\n      }\n\n    };\n  }]);\n});","map":{"version":3,"sources":["/Users/kathleenkang/Desktop/mbti/node_modules/react-grid-draw-ui/index.js"],"names":["e","t","exports","module","require","define","amd","React","window","i","r","n","l","call","m","c","d","o","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","RectangleManagerUtil","addRectangleEndLines","horizontalPointsSelected","push","startX","startY","height","endX","width","colour","verticalPointsSelected","endY","sortRectangleLines","sort","getShiftRateFromMousePosition","Math","round","setCreationManagersForHook","useGridData","useState","a","useEffect","getItemsWithinRegion","drawRectanglesFromPayload","clearDownGrids","__createBinding","__setModuleDefault","__importStar","ReactGridDrawUI","display","zIndex","position","h","useRef","CanvasManager","lineClickTolerance","selectCircleSize","circleLineShiftSize","contextLineWidth","lineColour","document","getElementById","current","createCanvas","clientWidth","clientHeight","createElement","Fragment","id","style","children","defaultProps","constructor","drag","activeDragLine","line","horizontalLine","verticalLine","gridStartY","gridEndY","gridStartX","gridEndX","canvas","ctx","getContext","setCanvasSize","rectangleCreationManager","RectangleCreationManager","lineProperties","rectangleBoundaryValidator","RectangleBoundaryValidator","setUpMouseEvents","setUpKeyboardEvents","PublicFunctionManager","mouseDown","offsetX","offsetY","isMouseOnRemoveButtonForAnyGrid","getRectForMouseOnBorder","drawLineAtClickedGridBoundaryPosition","getGridWhenMouseClickInsideGridRegion","resetBoxProperties","currentRect","findHorizontalLineIndexInGridFromMousePosition","findVerticalLineIndexInGridFromMousePosition","isLineDeletionModeActive","splice","mouseUp","deleteGridWhenRemoveButtonClicked","clearRegionFromCanvasContext","addRectangle","undoLineList","resetActiveGridLineForDragging","drawInteractableGrids","mouseMove","drawRectangleFromMouse","offsetLeft","offsetTop","showMouseCursorAsPointer","addEventListener","key","setLineDeletionMode","getRectangles","forEach","checkForMouseHoverOnGrid","render","drawRectGridLines","drawRemoveTableButton","X_CHARACTER","drawSelectableCircleOnBoxBoundary","fillStyle","beginPath","arc","PI","closePath","fill","drawLineFromBoxBoundaryX","strokeStyle","lineWidth","moveTo","lineTo","stroke","drawLineFromBoxBoundaryY","clearRect","rectangles","drawRectangleWithColour","strokeRect","font","fillText","abs","addHorizontalLineAtMousePosition","addVerticalLineAtMousePosition","removeRectangle","NO_INDEX_FOUND","lineDeletionModeActive","find","findIndex","isMouseOnRemoveGridButton","showCircleAndLineForMouseHoverOnBoundary","previewCircleAndLineForLeftBorderOnHover","previewCircleAndLineForRightBorderOnHover","previewCircleAndLineForTopBorderOnHover","previewCircleAndLineForBottomBorderOnHover","checkForMouseOnBorderOfGrid","handleDeletionModeHoverAction","repaintLinesGridColouration","target","cursor","CANVAS_WRAP_ID","buildTableShape","length","buildTableRowsFromDrawnGrid","pop","findGridPosition","isItemInsideBox","offsetHeight","canvasRect","getBoundingClientRect","childNodes","left","scrollX","top","scrollY","addGridItemToTable","innerText"],"mappings":"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","sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"React\"],t):\"object\"==typeof exports?exports[\"react-grid-draw-ui\"]=t(require(\"react\")):e[\"react-grid-draw-ui\"]=t(e.React)}(window,(function(e){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"/\",i(i.s=3)}([function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.RectangleManagerUtil=void 0;class r{static addRectangleEndLines(e){e.horizontalPointsSelected.push({startX:e.startX,startY:e.startY+e.height,endX:e.startX+e.width,colour:e.colour}),e.verticalPointsSelected.push({startX:e.startX+e.width,startY:e.startY,endY:e.startY+e.height,colour:e.colour})}static sortRectangleLines(e){e.horizontalPointsSelected.sort((function(e,t){return e.startY-t.startY})),e.verticalPointsSelected.sort((function(e,t){return e.startX-t.startX}))}}t.RectangleManagerUtil=r,r.getShiftRateFromMousePosition=(e,t)=>Math.round(e/t)*t},function(t,i){t.exports=e},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.setCreationManagersForHook=t.useGridData=void 0;const r=i(1);let n=null;t.useGridData=()=>{const[e,t]=r.useState(()=>()=>[]),[i,a]=r.useState(),[o,s]=r.useState();return r.useEffect(()=>{if(null==n)throw\"Something went wrong with the useGridData hook - If this issue persists, please contact library support.\";t(()=>()=>null!=n?n.getItemsWithinRegion():[]),s(()=>e=>null!=n?n.drawRectanglesFromPayload(e):()=>{}),a(()=>()=>null!=n?n.clearDownGrids():()=>{})},[]),null==o||null==i?[e]:[e,i,o]},t.setCreationManagersForHook=e=>{n=e}},function(e,t,i){\"use strict\";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)\"default\"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&r(t,e,i);return n(t,e),t};Object.defineProperty(t,\"__esModule\",{value:!0}),t.useGridData=t.ReactGridDrawUI=void 0;const o=a(i(1)),s=i(2);Object.defineProperty(t,\"useGridData\",{enumerable:!0,get:function(){return s.useGridData}});const l=i(4),c={display:\"flex\"},d={zIndex:1e4,width:\"inherit\",position:\"absolute\"},h=e=>{const t=o.useRef(new l.CanvasManager({lineClickTolerance:e.lineClickTolerance,selectCircleSize:e.selectCircleSize,circleLineShiftSize:e.circleLineShiftSize,contextLineWidth:e.contextLineWidth,lineColour:e.lineColour}));return o.useEffect(()=>{let e=document.getElementById(\"canvas-wrap\");t.current.createCanvas(e.clientWidth,e.clientHeight)},[]),o.default.createElement(o.Fragment,null,o.default.createElement(\"div\",{id:\"canvas-wrap\",style:c},e.children,o.default.createElement(\"canvas\",{id:\"canvas\",style:d})))};t.ReactGridDrawUI=h,h.defaultProps={lineClickTolerance:15,selectCircleSize:3,circleLineShiftSize:10,contextLineWidth:1,lineColour:\"#1290ff\"}},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CanvasManager=void 0;const r=i(5),n=i(6),a=i(2),o=i(7);t.CanvasManager=class{constructor(e){this.drag=!1,this.activeDragLine={line:{horizontalLine:null,verticalLine:null},gridStartY:0,gridEndY:0,gridStartX:0,gridEndX:0},this.createCanvas=(e,t)=>{this.canvas=document.getElementById(\"canvas\"),this.ctx=this.canvas.getContext(\"2d\"),this.setCanvasSize(e,t),this.rectangleCreationManager=new r.RectangleCreationManager(this.canvas,this.ctx,this.lineProperties),this.rectangleBoundaryValidator=new n.RectangleBoundaryValidator(this.canvas,this.lineProperties,this.rectangleCreationManager),this.setUpMouseEvents(),this.setUpKeyboardEvents(),a.setCreationManagersForHook(new o.PublicFunctionManager(this.canvas,this.rectangleCreationManager))},this.setCanvasSize=(e,t)=>{this.canvas.width=e,this.canvas.height=t},this.mouseDown=e=>{let t=e.offsetX,i=e.offsetY;if(!this.rectangleBoundaryValidator.isMouseOnRemoveButtonForAnyGrid(t,i)){let r=this.rectangleBoundaryValidator.getRectForMouseOnBorder(t,i);if(null!=r)this.rectangleCreationManager.drawLineAtClickedGridBoundaryPosition(e,r);else{let e=this.rectangleBoundaryValidator.getGridWhenMouseClickInsideGridRegion(t,i);if(void 0===e)this.rectangleCreationManager.resetBoxProperties(this.currentRect,t,i),this.drag=!0;else{let r=e,n=this.rectangleBoundaryValidator.findHorizontalLineIndexInGridFromMousePosition(r,t,i),a=this.rectangleBoundaryValidator.findVerticalLineIndexInGridFromMousePosition(r,t,i),o=-1!==n,s=-1!==a;(o||s)&&(this.rectangleBoundaryValidator.isLineDeletionModeActive()?o?r.horizontalPointsSelected.splice(n,1):s&&r.verticalPointsSelected.splice(a,1):o?this.activeDragLine.line.horizontalLine=r.horizontalPointsSelected[n]:s&&(this.activeDragLine.line.verticalLine=r.verticalPointsSelected[a]),this.activeDragLine.gridStartX=r.startX,this.activeDragLine.gridStartY=r.startY,this.activeDragLine.gridEndX=r.endX,this.activeDragLine.gridEndY=r.endY)}}}},this.mouseUp=e=>{this.rectangleBoundaryValidator.deleteGridWhenRemoveButtonClicked(e.offsetX,e.offsetY)?this.rectangleCreationManager.clearRegionFromCanvasContext(0,0,this.canvas.width,this.canvas.height):(this.drag&&(this.currentRect.endX=e.offsetX,this.currentRect.endY=e.offsetY,this.rectangleCreationManager.addRectangle(this.currentRect)),this.drag=!1,this.currentRect={startX:0,startY:0,endX:0,endY:0,width:0,height:0,colour:this.lineProperties.lineColour,verticalPointsSelected:[],horizontalPointsSelected:[],undoLineList:[]}),this.rectangleCreationManager.clearRegionFromCanvasContext(0,0,this.canvas.width,this.canvas.height),this.resetActiveGridLineForDragging(),this.drawInteractableGrids(e)},this.mouseMove=e=>{if(this.rectangleCreationManager.clearRegionFromCanvasContext(0,0,this.canvas.width,this.canvas.height),this.drag)this.rectangleCreationManager.drawRectangleFromMouse(this.currentRect,e.offsetX+this.canvas.offsetLeft,e.offsetY+this.canvas.offsetTop);else if(null!=this.activeDragLine.line.horizontalLine){this.activeDragLine.gridStartY<e.offsetY&&this.activeDragLine.gridEndY>e.offsetY&&(this.activeDragLine.line.horizontalLine.startY=e.offsetY)}else if(null!=this.activeDragLine.line.verticalLine){this.activeDragLine.gridStartX<e.offsetX&&this.activeDragLine.gridEndX>e.offsetX&&(this.activeDragLine.line.verticalLine.startX=e.offsetX)}else this.rectangleBoundaryValidator.showMouseCursorAsPointer(e,\"auto\");this.drawInteractableGrids(e)},this.currentRect={startX:0,startY:0,endX:0,endY:0,width:0,height:0,colour:e.lineColour,horizontalPointsSelected:[],verticalPointsSelected:[],undoLineList:[]},this.rectangleCreationManager=new r.RectangleCreationManager(this.canvas,this.ctx,e),this.rectangleBoundaryValidator=new n.RectangleBoundaryValidator(this.canvas,e,this.rectangleCreationManager),this.lineProperties=e}setUpMouseEvents(){this.canvas.addEventListener(\"mousedown\",this.mouseDown,!1),this.canvas.addEventListener(\"mouseup\",this.mouseUp,!1),this.canvas.addEventListener(\"mousemove\",this.mouseMove,!1)}setUpKeyboardEvents(){document.addEventListener(\"keydown\",e=>{\"Control\"==e.key&&this.rectangleBoundaryValidator.setLineDeletionMode(!0)}),document.addEventListener(\"keyup\",e=>{\"Control\"==e.key&&this.rectangleBoundaryValidator.setLineDeletionMode(!1)})}resetActiveGridLineForDragging(){this.activeDragLine.line={verticalLine:null,horizontalLine:null},this.activeDragLine.gridStartX=0,this.activeDragLine.gridStartY=0,this.activeDragLine.gridEndX=0,this.activeDragLine.gridEndY=0}drawInteractableGrids(e){let t=e.offsetX,i=e.offsetY;this.rectangleCreationManager.getRectangles().forEach(r=>{let n=r.startX+r.width+this.canvas.offsetLeft,a=r.startY+r.height+this.canvas.offsetTop;this.rectangleBoundaryValidator.checkForMouseHoverOnGrid(r,t,i,e),this.render(r,n,a)})}render(e,t,i){this.rectangleCreationManager.drawRectangleFromMouse(e,t,i),this.rectangleCreationManager.drawRectGridLines(e),this.rectangleCreationManager.drawRemoveTableButton(e)}}},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.RectangleCreationManager=void 0;const r=i(0);t.RectangleCreationManager=class{constructor(e,t,i){this.X_CHARACTER=\"❎\",this.drawSelectableCircleOnBoxBoundary=(e,t,i)=>{this.ctx.fillStyle=i,this.ctx.beginPath(),this.ctx.arc(e,t,this.selectCircleSize,0,2*Math.PI),this.ctx.closePath(),this.ctx.fill()},this.drawLineFromBoxBoundaryX=e=>{this.ctx.strokeStyle=e.colour,this.ctx.beginPath(),this.ctx.lineWidth=this.contextLineWidth,this.ctx.moveTo(e.startX,e.startY),this.ctx.lineTo(e.endX,e.startY),this.ctx.closePath(),this.ctx.stroke()},this.drawLineFromBoxBoundaryY=e=>{this.ctx.strokeStyle=e.colour,this.ctx.lineWidth=this.contextLineWidth,this.ctx.beginPath(),this.ctx.moveTo(e.startX,e.startY),this.ctx.lineTo(e.startX,e.endY),this.ctx.closePath(),this.ctx.stroke()},this.resetBoxProperties=(e,t,i)=>{this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),e.startX=t,e.startY=i},this.canvas=e,this.ctx=t,this.lineClickTolerance=i.lineClickTolerance,this.selectCircleSize=i.selectCircleSize,this.contextLineWidth=i.contextLineWidth,this.circleLineShiftSize=i.circleLineShiftSize,this.rectangles=[]}drawRectangleFromMouse(e,t,i){e.width=t-this.canvas.offsetLeft-e.startX,e.height=i-this.canvas.offsetTop-e.startY,this.drawRectangleWithColour(e)}drawRectangleWithColour(e){this.ctx.strokeStyle=e.colour,this.ctx.lineWidth=this.contextLineWidth,this.ctx.strokeRect(e.startX,e.startY,e.width,e.height)}clearRegionFromCanvasContext(e,t,i,r){this.ctx.clearRect(e,t,i,r)}drawRemoveTableButton(e){this.ctx.font=\"1em Roboto\",e.startX<=e.endX&&e.startY<=e.endY?this.ctx.fillText(this.X_CHARACTER,e.startX+e.width-20,e.startY-10):e.startX<=e.endX&&e.startY>e.endY?this.ctx.fillText(this.X_CHARACTER,e.startX+e.width-20,e.endY-10):e.startX>e.endX&&e.startY<=e.endY?this.ctx.fillText(this.X_CHARACTER,e.startX-20,e.startY-10):e.startX>e.endX&&e.startY>e.endY&&this.ctx.fillText(this.X_CHARACTER,e.startX-20,e.endY-10)}drawLineAtClickedGridBoundaryPosition(e,t){let i=t.height+t.startY,r=t.width+t.startX,n=e.offsetX,a=e.offsetY,o=Math.abs(n-t.startX)<this.lineClickTolerance,s=Math.abs(n-r)<this.lineClickTolerance,l=Math.abs(a-t.startY)<this.lineClickTolerance,c=Math.abs(a-i)<this.lineClickTolerance;o||s?this.addHorizontalLineAtMousePosition(t.startX,a,r,t):(l||c)&&this.addVerticalLineAtMousePosition(n,t.startY,i,t)}getRectangles(){return this.rectangles}addRectangle(e){this.rectangles.push(e)}removeRectangle(e){this.rectangles.splice(e,1)}clearDownGrids(){this.rectangles=[]}drawRectGridLines(e){e.horizontalPointsSelected.forEach(e=>{this.drawLineFromBoxBoundaryX(e)}),e.verticalPointsSelected.forEach(e=>{this.drawLineFromBoxBoundaryY(e)})}addVerticalLineAtMousePosition(e,t,i,n){let a={startX:r.RectangleManagerUtil.getShiftRateFromMousePosition(e,this.circleLineShiftSize),startY:t,endY:i,colour:n.colour};n.verticalPointsSelected.push(a),this.drawLineFromBoxBoundaryY(a),n.undoLineList.push(!1)}addHorizontalLineAtMousePosition(e,t,i,n){let a={startX:e,startY:r.RectangleManagerUtil.getShiftRateFromMousePosition(t,this.circleLineShiftSize),endX:i,colour:n.colour};n.horizontalPointsSelected.push(a),n.undoLineList.push(!0),this.drawLineFromBoxBoundaryX(a)}}},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.RectangleBoundaryValidator=void 0;const r=i(0);t.RectangleBoundaryValidator=class{constructor(e,t,i){this.NO_INDEX_FOUND=-1,this.lineDeletionModeActive=!1,this.getGridWhenMouseClickInsideGridRegion=(e,t)=>this.rectangleCreationManager.getRectangles().find(i=>Math.abs(e)>=i.startX&&Math.abs(e)<=i.width+i.startX&&Math.abs(t)>=i.startY&&Math.abs(t)<=i.height+i.startY),this.findHorizontalLineIndexInGridFromMousePosition=(e,t,i)=>e.horizontalPointsSelected.findIndex(e=>{let r=t>e.startX&&t<e.endX,n=Math.abs(i-e.startY)<5;return r&&n}),this.findVerticalLineIndexInGridFromMousePosition=(e,t,i)=>e.verticalPointsSelected.findIndex(e=>{let r=i>e.startY&&i<e.endY,n=Math.abs(t-e.startX)<5;return r&&n}),this.isMouseOnRemoveGridButton=(e,t,i)=>{let r=e.startY-30,n=e.startY-5,a=e.endX-20,o=a+20;return e.startX<=e.endX&&e.startY<=e.endY?t>=a&&t<=o&&i>=r&&i<=n:e.startX<=e.endX&&e.startY>e.endY?t>=a&&t<=o&&i>=e.endY-30&&i<=e.endY-5:e.startX>e.endX&&e.startY<=e.endY?t>=e.startX-20&&t<=e.startX+20&&i>=r&&i<=n:e.startX>e.endX&&e.startY>e.endY?t>=e.startX-20&&t<=e.startX+20&&i>=e.endY-30&&i<=e.endY-5:void 0},this.showCircleAndLineForMouseHoverOnBoundary=(e,t,i)=>{let r=e.startY,n=e.startX,a=e.height+r,o=e.width+n,s=Math.abs(t-n)<this.lineClickTolerance,l=Math.abs(t-o)<this.lineClickTolerance,c=Math.abs(i-r)<this.lineClickTolerance,d=Math.abs(i-a)<this.lineClickTolerance;s&&i>e.startY&&i<=e.startY+e.height?this.previewCircleAndLineForLeftBorderOnHover(i,n,o,e.colour):l&&i>e.startY&&i<=e.startY+e.height?this.previewCircleAndLineForRightBorderOnHover(i,n,o,e.colour):c&&t>e.startX&&t<=e.startX+e.width?this.previewCircleAndLineForTopBorderOnHover(t,r,a,e.colour):d&&t>e.startX&&t<=e.startX+e.width&&this.previewCircleAndLineForBottomBorderOnHover(t,a,r,e.colour)},this.canvas=e,this.lineClickTolerance=t.lineClickTolerance,this.selectCircleSize=t.selectCircleSize,this.circleLineShiftSize=t.circleLineShiftSize,this.contextLineWidth=t.contextLineWidth,this.rectangleCreationManager=i}deleteGridWhenRemoveButtonClicked(e,t){let i=!1;return this.rectangleCreationManager.getRectangles().forEach((r,n)=>{this.isMouseOnRemoveGridButton(r,e,t)&&(this.rectangleCreationManager.removeRectangle(n),i=!0)}),i}isMouseOnRemoveButtonForAnyGrid(e,t){let i=!1;return this.rectangleCreationManager.getRectangles().forEach(r=>{this.isMouseOnRemoveGridButton(r,e,t)&&(i=!0)}),i}getRectForMouseOnBorder(e,t){return this.rectangleCreationManager.getRectangles().find(i=>this.checkForMouseOnBorderOfGrid(i,e,t))}checkForMouseHoverOnGrid(e,t,i,r){if(this.checkForMouseOnBorderOfGrid(e,t,i))this.showMouseCursorAsPointer(r,\"pointer\"),this.showCircleAndLineForMouseHoverOnBoundary(e,t,i);else if(this.isMouseOnRemoveGridButton(e,t,i))this.showMouseCursorAsPointer(r,\"pointer\");else{let n=this.findHorizontalLineIndexInGridFromMousePosition(e,t,i),a=this.findVerticalLineIndexInGridFromMousePosition(e,t,i);n!=this.NO_INDEX_FOUND||a!=this.NO_INDEX_FOUND?this.handleDeletionModeHoverAction(e,n,a,r):this.repaintLinesGridColouration(e)}}repaintLinesGridColouration(e){e.horizontalPointsSelected.forEach(t=>t.colour=e.colour),e.verticalPointsSelected.forEach(t=>t.colour=e.colour)}handleDeletionModeHoverAction(e,t,i,r){if(this.lineDeletionModeActive){if(t!=this.NO_INDEX_FOUND){e.horizontalPointsSelected[t].colour=\"#FF0000\"}else if(i!=this.NO_INDEX_FOUND){e.verticalPointsSelected[i].colour=\"#FF0000\"}this.showMouseCursorAsPointer(r,\"pointer\")}else this.showMouseCursorAsPointer(r,\"grab\")}showMouseCursorAsPointer(e,t){e.target.style.cursor=t}setLineDeletionMode(e){this.lineDeletionModeActive=e}isLineDeletionModeActive(){return this.lineDeletionModeActive}previewCircleAndLineForBottomBorderOnHover(e,t,i,n){let a=r.RectangleManagerUtil.getShiftRateFromMousePosition(e,this.circleLineShiftSize),o={startX:a,startY:t,endY:i,colour:n};this.rectangleCreationManager.drawSelectableCircleOnBoxBoundary(a,t,n),this.rectangleCreationManager.drawLineFromBoxBoundaryY(o)}previewCircleAndLineForTopBorderOnHover(e,t,i,n){let a=r.RectangleManagerUtil.getShiftRateFromMousePosition(e,this.circleLineShiftSize),o={startX:a,startY:t,endY:i,colour:n};this.rectangleCreationManager.drawSelectableCircleOnBoxBoundary(a,t,n),this.rectangleCreationManager.drawLineFromBoxBoundaryY(o)}previewCircleAndLineForRightBorderOnHover(e,t,i,n){let a=r.RectangleManagerUtil.getShiftRateFromMousePosition(e,this.circleLineShiftSize),o={startX:t,startY:a,endX:i,colour:n};this.rectangleCreationManager.drawSelectableCircleOnBoxBoundary(i,a,n),this.rectangleCreationManager.drawLineFromBoxBoundaryX(o)}previewCircleAndLineForLeftBorderOnHover(e,t,i,n){let a=r.RectangleManagerUtil.getShiftRateFromMousePosition(e,this.circleLineShiftSize),o={startX:t,startY:a,endX:i,colour:n};this.rectangleCreationManager.drawSelectableCircleOnBoxBoundary(t,a,n),this.rectangleCreationManager.drawLineFromBoxBoundaryX(o)}checkForMouseOnBorderOfGrid(e,t,i){let r=e.startY,n=e.startX,a=e.height+r,o=e.width+n,s=Math.abs(t-n)<=this.lineClickTolerance||Math.abs(t-o)<=this.lineClickTolerance,l=Math.abs(i-r)<=this.lineClickTolerance||Math.abs(i-a)<=this.lineClickTolerance;return s&&(i>=r&&i<=a)||l&&(t>=n&&t<=o)}}},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PublicFunctionManager=void 0;const r=i(0);t.PublicFunctionManager=class{constructor(e,t){this.CANVAS_WRAP_ID=\"canvas-wrap\",this.getItemsWithinRegion=()=>{let e=document.getElementById(this.CANVAS_WRAP_ID);if(null==e)throw\"Could not find DOM element with ID: \"+this.CANVAS_WRAP_ID;let t=[];return this.rectangleCreationManager.getRectangles().forEach(i=>{r.RectangleManagerUtil.sortRectangleLines(i),r.RectangleManagerUtil.addRectangleEndLines(i);let n=this.buildTableShape(i.horizontalPointsSelected.length,i.verticalPointsSelected.length);this.buildTableRowsFromDrawnGrid(e,i,n),i.horizontalPointsSelected.pop(),i.verticalPointsSelected.pop(),t.push(n)}),t},this.drawRectanglesFromPayload=e=>{e.forEach(e=>{this.rectangleCreationManager.drawRectangleWithColour(e),this.rectangleCreationManager.addRectangle(e),this.rectangleCreationManager.drawRectGridLines(e),this.rectangleCreationManager.drawRemoveTableButton(e)})},this.clearDownGrids=()=>{this.rectangleCreationManager.clearDownGrids(),this.rectangleCreationManager.resetBoxProperties({},0,0)},this.buildTableShape=(e,t)=>{let i=[];for(let r=0;r<e;r++)for(let n=0;n<t;n++)null!=i[r]?i[r].push(\"\"):i[r]=0!==e||0!==t?[\"\"]:[];return i},this.findGridPosition=(e,t,i,r)=>{let n=0,a=0;if(0===i.length)for(let t=0;t<r.length;t++){e<r[t].startX?(a=0,n=t):n++}else if(0===r.length)for(let e=0;e<i.length;e++){t<i[e].startY?(a=e,n=0):a++}else for(let n=0;n<i.length;n++){let a=i[n].startY;for(let i=0;i<r.length;i++){if(e<r[i].startX&&t<a)return[n,i]}}return[a,n]},this.isItemInsideBox=(e,t,i,r)=>{let n=t.offsetHeight/2;return i>=e.startX&&i<=e.width+e.startX&&r+n>=e.startY&&r+n<=e.height+e.startY},this.canvas=e,this.rectangleCreationManager=t,this.canvasRect=this.canvas.getBoundingClientRect()}buildTableRowsFromDrawnGrid(e,t,i){let r=e.childNodes;if(r.length>1)r.forEach(e=>this.buildTableRowsFromDrawnGrid(e,t,i));else if(1==r.length){let e=r[0],n=e.getBoundingClientRect(),a=n.left-this.canvasRect.left+window.scrollX,o=n.top-this.canvasRect.top+window.scrollY;this.isItemInsideBox(t,e,a,o)&&this.addGridItemToTable(a,o,t,i,e)}}addGridItemToTable(e,t,i,r,n){let a=this.findGridPosition(e,t,i.horizontalPointsSelected,i.verticalPointsSelected),o=a[0],s=a[1];if(null!=r[o]){let e=r[o][s],t=\"\"!=e&&null!=e;r[o][s]=t?r[o][s]+\" \"+n.innerText:n.innerText}else r[o]=[]}}}])}));"]},"metadata":{},"sourceType":"script"}